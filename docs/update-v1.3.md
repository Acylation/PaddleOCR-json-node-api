# V1.3 更新说明

#### 新增功能

- 传入图片方式增加Base64方式，可以将图片编码为Base64字符串，塞入json传给引擎识别。
- 进程交互方式增加套接字服务器方式，引擎进程开启一个TCP端口，调用方可以通过ip+端口调用OCR。

#### 启动参数改动说明

- 取消了 `use_system_pause`, `ensure_chcp`, `use_debug` 这三个跟调试相关的参数。默认不会暂停程序。
- `ensure_ascii` 的默认值改为 `true` ，默认开启ascii转义。
- 不再支持以 `-image_dir=路径` 传入图片路径，请使用 `-image_path=路径` 。
- 新增两个跟服务器模式有关的参数：地址 `addr` 和端口 `port` 。

#### json传入值改动说明

- 不再支持参数热更新，因为用处有限。所有参数必须在启动时指定。
- 不再支持直接传入路径，路径必须包含在json中，如 `{"image_path":""}`
- 不再支持以 `{"image_dir":""}` 传入图片路径，请使用 `{"image_path":""}` 。
- 新增结束进程的指令： `exit` 。可以通过传入 `{"exit":""}` 或直接传入 `exit` 来结束引擎进程。当然手动kill掉也是可以的。
- 新增Base64传图方式：`{"image_base64":"base64编码字符串"}`。
- 管道模式和套接字模式，输入输出值的格式是完全相同的，仅仅是交互方式不同。编写API时，建议仅重载进程交互的函数来适配这两种模式，其他参数解析等部分的代码可以复用。